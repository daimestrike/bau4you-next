# Система компаний Bau4You - Руководство

## Обзор системы

Система компаний Bau4You представляет собой полноценную платформу для управления профилями компаний в стиле LinkedIn, адаптированную для строительной индустрии.

## Основные функции

### 1. Профили компаний
- **Основная информация**: название, описание, отрасль, город, контакты
- **Расширенные данные**: миссия, видение, ценности, специализации
- **Визуальные элементы**: логотип, обложка
- **Социальные сети**: LinkedIn, Facebook, Instagram, YouTube
- **Верификация**: система проверки компаний
- **Рейтинги**: автоматический расчет рейтинга на основе отзывов

### 2. Портфолио проектов
- **Управление проектами**: добавление, редактирование, удаление
- **Детальная информация**: описание, стоимость, клиент, сроки
- **Визуальное представление**: галерея изображений
- **Категоризация**: жилые, коммерческие, промышленные объекты
- **Теги и поиск**: система тегов для быстрого поиска
- **Рекомендуемые проекты**: выделение лучших работ

### 3. Команда компании
- **Управление сотрудниками**: добавление участников команды
- **Профили сотрудников**: должность, био, контакты
- **Ключевые сотрудники**: выделение важных участников
- **Интеграция с LinkedIn**: ссылки на профили сотрудников

### 4. Система отзывов
- **Многокритериальная оценка**: качество работы, коммуникация, сроки, цена
- **Подробные отзывы**: плюсы, минусы, общее впечатление
- **Верификация**: система проверки отзывов
- **Лайки отзывов**: полезность отзывов для других пользователей
- **Привязка к проектам**: отзывы связаны с конкретными проектами/тендерами

### 5. Достижения и награды
- **Сертификации**: профессиональные сертификаты
- **Награды**: призы и признания
- **Категоризация**: награды, сертификации, достижения
- **Сроки действия**: отслеживание актуальности сертификатов

### 6. Социальная активность
- **Подписки**: система подписок на компании
- **Обновления**: новости и анонсы компаний
- **Лайки и комментарии**: взаимодействие с контентом
- **Лента активности**: отслеживание активности компаний

## База данных

### Новые таблицы
1. **company_portfolio** - портфолио проектов
2. **company_reviews** - отзывы о компаниях
3. **review_likes** - лайки отзывов
4. **company_team** - команда компании
5. **company_achievements** - достижения и награды
6. **company_followers** - подписчики компаний
7. **company_updates** - обновления компаний
8. **company_update_likes** - лайки обновлений
9. **company_update_comments** - комментарии к обновлениям

### Расширения существующих таблиц
Таблица `companies` дополнена полями:
- Основные: `industry`, `city`, `founded_year`, `employee_count`
- Визуальные: `cover_image`, `logo_url`
- Контент: `mission_statement`, `vision_statement`, `values`
- Социальные: `social_links`
- Профессиональные: `specializations`, `certifications`, `awards`
- Верификация: `verified`, `verification_status`
- Рейтинги: `rating`, `reviews_count`

## API функции

### Управление компаниями
- `updateCompany()` - обновление профиля компании
- `getCompany()` - получение данных компании

### Портфолио
- `addPortfolioItem()` - добавление проекта
- `getCompanyPortfolio()` - получение портфолио
- `updatePortfolioItem()` - редактирование проекта
- `deletePortfolioItem()` - удаление проекта

### Отзывы
- `addCompanyReview()` - добавление отзыва
- `getCompanyReviews()` - получение отзывов
- `likeReview()` / `unlikeReview()` - лайки отзывов

### Команда
- `addTeamMember()` - добавление сотрудника
- `getCompanyTeam()` - получение команды
- `updateTeamMember()` - редактирование сотрудника
- `removeTeamMember()` - удаление сотрудника

### Достижения
- `addCompanyAchievement()` - добавление достижения
- `getCompanyAchievements()` - получение достижений

### Подписки
- `followCompany()` / `unfollowCompany()` - подписка/отписка
- `getCompanyFollowers()` - получение подписчиков
- `isFollowingCompany()` - проверка подписки

### Обновления
- `addCompanyUpdate()` - добавление обновления
- `getCompanyUpdates()` - получение обновлений
- `likeCompanyUpdate()` / `unlikeCompanyUpdate()` - лайки
- `addUpdateComment()` / `getUpdateComments()` - комментарии

## Интерфейс пользователя

### Страницы
1. **`/companies/[id]`** - профиль компании
2. **`/companies/[id]/edit`** - редактирование профиля
3. **`/companies/[id]/portfolio`** - управление портфолио
4. **`/companies`** - каталог компаний с фильтрами

### Основные компоненты
- **Обложка и логотип**: визуальное представление компании
- **Навигация по табам**: обзор, портфолио, команда, отзывы, о компании
- **Карточки проектов**: портфолио с изображениями и деталями
- **Список команды**: сотрудники с фотографиями и должностями
- **Система отзывов**: звездочки, детальные оценки
- **Боковая панель**: контакты, статистика, социальные сети

### Особенности UX
- **LinkedIn-стиль**: профессиональный дизайн
- **Адаптивность**: работа на всех устройствах
- **Интерактивность**: модальные окна, живые обновления
- **Визуальная иерархия**: четкое разделение контента
- **Быстрая навигация**: табы, поиск, фильтры

## Установка и настройка

### 1. Применение миграций базы данных
```sql
-- Выполните SQL из файла add_company_features.sql
-- в вашей базе данных Supabase
```

### 2. Обновление функций API
Функции уже добавлены в `src/lib/supabase.ts`. Убедитесь, что все импорты корректны.

### 3. Настройка Row Level Security (RLS)
Политики безопасности автоматически создаются при выполнении миграций.

### 4. Тестирование
1. Создайте тестовую компанию
2. Добавьте несколько проектов в портфолио
3. Пригласите сотрудников
4. Оставьте тестовые отзывы
5. Проверьте все функции редактирования

## Использование системы

### Для владельцев компаний
1. **Создание профиля**: заполните основную информацию
2. **Настройка брендинга**: загрузите логотип и обложку
3. **Добавление портфолио**: продемонстрируйте выполненные проекты
4. **Формирование команды**: представьте ключевых сотрудников
5. **Сбор отзывов**: стимулируйте клиентов оставлять отзывы

### Для клиентов
1. **Поиск компаний**: используйте фильтры по отрасли, городу, рейтингу
2. **Изучение портфолио**: оценивайте качество работ
3. **Чтение отзывов**: изучайте опыт других клиентов
4. **Подписка на обновления**: следите за новостями компаний
5. **Оставление отзывов**: делитесь опытом сотрудничества

### Для исполнителей
1. **Анализ конкурентов**: изучайте профили других компаний
2. **Поиск партнеров**: находите субподрядчиков
3. **Нетворкинг**: подписывайтесь на интересные компании
4. **Бенчмаркинг**: сравнивайте свои услуги и цены

## Интеграции

### С существующими модулями
- **Проекты**: связь портфолио с проектами
- **Тендеры**: отзывы по результатам тендеров
- **Продукты**: связь с товарами компаний
- **Пользователи**: профили сотрудников

### Возможные расширения
- **CRM интеграция**: синхронизация с внешними CRM
- **Календарь**: планирование встреч и проектов
- **Документооборот**: управление договорами
- **Аналитика**: детальная статистика и отчеты

## Безопасность

### Row Level Security
- Компании могут редактировать только свои данные
- Отзывы создают только авторизованные пользователи
- Публичный доступ к просмотру профилей

### Модерация
- Система флагов для неподходящего контента
- Возможность скрытия отзывов администраторами
- Проверка загружаемых изображений

## Производительность

### Оптимизации
- Индексы по ключевым полям
- Пагинация для больших списков
- Ленивая загрузка изображений
- Кэширование часто запрашиваемых данных

### Мониторинг
- Логирование операций
- Отслеживание времени загрузки
- Мониторинг использования API

## Будущие улучшения

### Фаза 2
- **Мессенджер**: прямое общение между компаниями
- **Видеогалерея**: поддержка видео в портфолио
- **Сертификация**: процесс верификации компаний
- **Рекомендации**: алгоритм рекомендации компаний

### Фаза 3
- **Мобильное приложение**: нативные приложения
- **API для партнеров**: открытый API
- **Интеграция с 1С**: синхронизация данных
- **Marketplace**: торговая площадка услуг

## Техническая поддержка

### Логи и отладка
- Проверьте консоль браузера на ошибки JavaScript
- Проверьте логи Supabase на ошибки API
- Убедитесь в корректности RLS политик

### Частые проблемы
1. **Отзывы не сохраняются**: проверьте права пользователя
2. **Изображения не загружаются**: проверьте CORS настройки
3. **Медленная загрузка**: оптимизируйте запросы

## Заключение

Система компаний Bau4You предоставляет мощный инструмент для представления строительных компаний в профессиональном формате. Интеграция с существующей экосистемой платформы создает единую среду для всех участников строительного рынка.

Система спроектирована с возможностью масштабирования и может быть расширена дополнительными функциями по мере роста платформы. 